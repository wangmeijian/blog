# 二维码的秘密
这是我在公司内部做的第四次技术分享，前面三次分享，都是基于当时手上在做的项目，产生的一些想法或经验总结，这一次也不例外。  
前几次分享的主题分别是：  
1、前端自动化测试实战  
2、提高web可访问性，选择合适的技术做合适的项目  
3、蓝信应用的开发与测试  
本次分享的主题叫：《二维码的秘密》  

<img src="http://q2wu281u4.bkt.clouddn.com/haibao.jpg" width="420" align="center" />  

最近在做的项目，需要实现通过App扫码登录，前端利用websocket，监听后端扫码成功的信息来实现登录。在用qrcodejs生成二维码的时候，我产生了一些疑问：  

* 二维码容量有多大？  
* 二维码上面三个大方块是干什么的？  
* 二维码能存储视频/音频吗？  
* 二维码破损了为什么还能被识别？  
* 二维码生成原理是怎样的？  

## 诞生和普及  
上个世纪60年代，日本迎来高速增长期，卖食品、衣服等种类繁多的超市开始在城市中出现，当时超市使用的现金出纳机要靠手动输入商品价格，因此负责现金出纳的人常常会因手腕的麻木和“腱鞘炎”而苦恼。  

<img src="http://q2wu281u4.bkt.clouddn.com/85F2C986-41B6-4604-B4A6-9B7DE4221700.png" width="220" align="center" />

条形码解决了这个问题，因此，条形码得以普及，条形码也叫一维码，缺点是，它的容量非常有限，最多能容纳20个英文字符和数字，日本的原昌宏投入了二维码的研发，一年半后，几经曲折，二维码诞生了。

## 攻击与防御
![](http://q2wu281u4.bkt.clouddn.com/F4D01B2C-05F6-46F4-9843-93ACED5D05D5.png)  

2018年9月，出现了一些二维码，iPhone扫码后，手机立刻被重启，这是因为二维码指向一个包含成千上万个div，设置了特定的样式，耗尽了iPhone的资源，而触发了iPhone的自我保护机制，重启了。  



