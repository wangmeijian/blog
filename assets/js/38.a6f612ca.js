(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{417:function(t,s,a){"use strict";a.r(s);var n=a(46),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"如何为网站添加深色模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何为网站添加深色模式"}},[t._v("#")]),t._v(" 如何为网站添加深色模式？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/wangmeijian/images/master/css-dark-mode/banner.png",alt:"如何为网站添加深色模式？"}})]),t._v(" "),a("p",[t._v("许多人喜欢为网站选择深色模式，也许他们更喜欢这种UI，或者他们想让眼睛免受疲劳。这篇文章将向你展示如何实现自动css深色模式，该模式根据访问者的主题而变化。")]),t._v(" "),a("h2",{attrs:{id:"css深色模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css深色模式"}},[t._v("#")]),t._v(" CSS深色模式")]),t._v(" "),a("p",[t._v("在此站点上，我定义了变量以设置主题的颜色，我配置的标准变量如下：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 译者注：这是css4的语法，已经纳入草案，大部分浏览器都支持 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* 如果你的网站需要兼容低版本浏览器，可以用less实现 */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--accent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #226997"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--light")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #666"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--lighter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #f3f3f3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #e6e6e6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--bg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #ffffff"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("变量使用方法：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("p")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("--main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这样，如果你想更改主题颜色，则只需修改定义的变量，所有使用该变量的内容都会更新。")]),t._v(" "),a("p",[t._v("现在我们需要定义一组新的变量，这些变量将在调用css深色模式时使用。对我来说，其他变量定义如下所示：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* Define colours for dark mode */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--accent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #3493d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #f3f3f3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--light")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #ececec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--lighter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #666"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #e6e6e6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--bg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #333333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"添加深色模式支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加深色模式支持"}},[t._v("#")]),t._v(" 添加深色模式支持")]),t._v(" "),a("p",[t._v("现在，我们定义了两组变量，剩下要做的就是将"),a("code",[t._v("prefers-color-scheme")]),t._v("媒体查询添加到我们的深色变量中。")]),t._v(" "),a("blockquote",[a("p",[t._v("译者注："),a("br"),t._v(" "),a("code",[t._v("prefers-color-scheme")]),t._v("可以检测用户操作系统主题是深色或浅色，它有三个值"),a("br"),t._v(" "),a("code",[t._v("no-preference")]),t._v("表示用户未指定操作系统主题"),a("br"),t._v(" "),a("code",[t._v("light")]),t._v("表示用户的操作系统是浅色主题"),a("br"),t._v(" "),a("code",[t._v("dark")]),t._v("表示用户的操作系统是深色主题")])]),t._v(" "),a("p",[t._v("带上深色变量并在 "),a("code",[t._v("@media")]),t._v("下面添加查询：")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@media")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("prefers-color-scheme")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dark"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(":root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--accent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #3493d1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #f3f3f3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--light")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #ececec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--lighter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #666"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #e6e6e6"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("--bg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #333333"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("如果有人使用深色操作系统主题并访问你的网站，你的网站将自动切换到深色模式")]),t._v(" "),a("p",[t._v("切换前")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/wangmeijian/images/master/css-dark-mode/website-light.png",alt:"light"}})]),t._v(" "),a("p",[t._v("切换后")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/wangmeijian/images/master/css-dark-mode/website-dark.png",alt:"dark"}})]),t._v(" "),a("h2",{attrs:{id:"测试效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试效果"}},[t._v("#")]),t._v(" 测试效果")]),t._v(" "),a("p",[t._v("如果你想要测试效果，可以修改自己操作系统的主题模式")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/wangmeijian/images/master/css-dark-mode/change-theme-mode.png",alt:"dark"}})]),t._v(" "),a("h2",{attrs:{id:"结论"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结论"}},[t._v("#")]),t._v(" 结论")]),t._v(" "),a("p",[t._v("现在，如果你有一个网站，不仅应该支持响应式，而且在主题方面也具有响应能力。我敢肯定，你的深夜访客或那些只喜欢深色主题网站的访客一定会感谢你。")]),t._v(" "),a("blockquote",[a("p",[t._v("觉得不错，点个star吧"),a("a",{attrs:{href:"https://github.com/wangmeijian/blog/blob/master/docs/%E5%A6%82%E4%BD%95%E4%B8%BA%E7%BD%91%E7%AB%99%E6%B7%BB%E5%8A%A0%E6%B7%B1%E8%89%B2%E6%A8%A1%E5%BC%8F%EF%BC%9F.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("原文地址（英文）：https://kevq.uk/how-to-add-css-dark-mode-to-a-website/")])])}),[],!1,null,null,null);s.default=e.exports}}]);